{"version":3,"sources":["block/utils.js","block/model.js","block/fetch.js","index.js"],"names":["cDOM","tag","classItem","text","item","document","createElement","classList","add","textContent","cAppendChild","array","forEach","el","appendChild","changeNum","openModal","responce","films","i","nameRu","countries","c","country","genres","g","genre","year","filmLength","createMovies","dataMovies","$movies","querySelector","img","desc","ov","btn","rating","movie","innerHTML","posterUrlPreview","wrap","title","contries","lengthI","modal","createModalWindow","body","API_URL","currentPage","resp","fetch","headers","API_KEY","json","addEventListener","e","target","contains","parentNode","remove"],"mappings":"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","file":"src.44259429.js","sourceRoot":"..\\src","sourcesContent":["import {responce} from \"./fetch\";\r\nimport {contries, genres, lengthI, modal, title, year} from \"./model\";\r\n\r\nexport const cDOM = (tag, classItem = '', text ='') => {\r\n    const item = document.createElement(tag)\r\n    item.classList.add(classItem)\r\n    item.textContent = text\r\n    return item\r\n}\r\nexport const cAppendChild = (array, item) => {\r\n    array.forEach(el => {\r\n        item.appendChild(el)\r\n    })\r\n}\r\nexport const changeNum = (item) => {\r\n    if(item.textContent >= 7.5 || item.textContent >= 75) return item.classList.add('green')\r\n    if(item.textContent <= 7.5 && item.textContent >= 4.0 || item.textContent <= 75 && item.textContent > 40) return item.classList.add('yellow')\r\n    if(item.textContent <= 4.0) return item.classList.add('red')\r\n}\r\nexport const openModal = (text) => {\r\n    const res = responce.films\r\n\r\n    res.forEach((item, i) => {\r\n        if (item.nameRu == text) {\r\n            title.textContent = item.nameRu\r\n            item.countries.forEach(c => {\r\n                contries.textContent = c.country\r\n            })\r\n            item.genres.forEach(g => {\r\n                genres.textContent = g.genre\r\n            })\r\n            year.textContent = item.year\r\n            lengthI.textContent = item.filmLength + ' часа'\r\n        }\r\n    })\r\n    modal.classList.add('open')\r\n}","import {cAppendChild, cDOM, changeNum} from \"./utils\";\r\n\r\nexport const createMovies = (dataMovies) => {\r\n    const $movies = document.querySelector('.movies')\r\n    dataMovies.forEach(el => {\r\n        let img, desc, ov, btn, rating\r\n        const movie = cDOM('div', 'movie')\r\n        cAppendChild([img = cDOM('div', 'img'),desc = cDOM('div', 'desc')], movie)\r\n        cAppendChild([ov = cDOM('div', 'ov'),btn = cDOM('button', 'btn', 'Описание')], desc)\r\n        cAppendChild([cDOM('div', 'title', `${el.nameRu}`),rating = cDOM('div', 'number', `${el.rating}`)], ov)\r\n        btn.classList.add('bDes')\r\n        img.innerHTML = `<img src=\"${el.posterUrlPreview}\" alt=\"${el.nameRu}\">`\r\n        $movies.appendChild(movie)\r\n        changeNum(rating)\r\n    })\r\n}\r\nexport let wrap, title,contries, genres, year, lengthI, modal\r\nexport const createModalWindow = () => {\r\n    modal = cDOM('div', 'modalW')\r\n    cAppendChild([cDOM('div', 'overlay'),wrap = cDOM('div', 'wrapper')],modal)\r\n    cAppendChild([title = cDOM('div', 'title'),contries = cDOM('div', 'contries'), genres = cDOM('div', 'genres'),year = cDOM('div', 'year'), lengthI = cDOM('div', 'length')], wrap)\r\n    document.body.appendChild(modal)\r\n}","import {createMovies} from \"./model\";\r\n\r\nexport let responce\r\n\r\nexport const dataMovies = async (currentPage) => {\r\n    const API_URL = `https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=${currentPage}`\r\n    const API_KEY = 'd4121654-de25-4589-9d26-0694e00a8ae8'\r\n\r\n    const resp = await fetch(API_URL, {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'X-API-KEY': API_KEY\r\n        }\r\n    })\r\n    responce = await resp.json()\r\n    createMovies(responce.films)\r\n}","import {dataMovies} from \"./block/fetch\";\r\nimport {createModalWindow, modal} from \"./block/model\";\r\nimport {openModal} from \"./block/utils\";\r\n\r\nlet currentPage = 1\r\ndocument.addEventListener('DOMContentLoaded',() => {\r\n    dataMovies(currentPage)\r\n    createModalWindow()\r\n})\r\ndocument.body.addEventListener('click', e => {\r\n    if(e.target.classList.contains('seemore')) {\r\n       currentPage++\r\n        dataMovies(currentPage)\r\n        return\r\n    }\r\n    if(e.target.classList.contains('bDes')) {\r\n        openModal(e.target.parentNode.querySelector('.title').textContent)\r\n        return\r\n    }\r\n    if(e.target.classList.contains('overlay')) {\r\n        modal.classList.remove('open')\r\n        return\r\n    }\r\n})"]}